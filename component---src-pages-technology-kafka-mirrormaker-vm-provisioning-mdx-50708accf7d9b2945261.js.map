{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/technology/kafka-mirrormaker/vm-provisioning.mdx"],"names":["PageHeader","title","tabs","className","cx","pageHeader","withTabs","length","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","theme","description","keywords","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-technology-kafka-mirrormaker-vm-provisioning-mdx-50708accf7d9b2945261.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pageHeader, withTabs, text } from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, tabs = [] }) => (\n  <div className={cx(pageHeader, { [withTabs]: tabs.length })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const { tabs, title, theme, description, keywords } = frontmatter;\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader title={Title ? <Title /> : title} label=\"label\" tabs={tabs} />\n      {tabs && <PageTabs slug={slug} tabs={tabs} currentTab={currentTab} />}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-eda/refarch-eda/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`Here we are showing how to install and configure Kafka Mirror Maker 2 in a cluster on VMs.  We will also show how to test the Mirror Maker 2 cluster for resiliency, and finally how to perform a rolling upgrade of the Mirror Maker 2 nodes.`}</p>\n    <h2>{`Environment`}</h2>\n    <p>{`The environment we’re using is as follows:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`A remote IBM Event Streams cluster on IBM Cloud as the source cluster`}</li>\n      <li parentName=\"ul\">{`A local Kafka 2.4 cluster deployed on OpenShift using the Strimzi v0.17 Operator`}</li>\n      <li parentName=\"ul\">{`2x dedicated Linux VMs for running a clustered pair of Mirror Maker 2 nodes`}</li>\n      <li parentName=\"ul\">{`A dedicated Linux VM to act as a data stream producer`}</li>\n      <li parentName=\"ul\">{`A dedicated Linux VM to act as a data stream consumer`}</li>\n      <li parentName=\"ul\">{`Java VMs are already installed on all VMs`}</li>\n      <li parentName=\"ul\">{`On the Producer VM, we use a simple producer sample provided by IBM for use with Event Streams:  `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-messaging/event-streams-samples\"\n        }}>{`https://github.com/ibm-messaging/event-streams-samples`}</a></li>\n      <li parentName=\"ul\">{`On the Consumer VM and Mirror Maker VMs, we use the Client and Cluster Certificates from the Kafka cluster merged into a PKCS 12 format certificate file.  `}</li>\n    </ul>\n    <p>{`First, start the producer to start sending data to the remote Event Streams cluster.  On the Producer VM, start streaming data to Event Streams:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"936px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"70.1388888888889%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACF0lEQVQ4y12U63LaQAyFPdh79a5tbsFAmdKkpA25QMhlpn3/91KPJFOY/PhmV1pZlo7WLppfifIuUr2J5OeeXGvJ1QMJuECuiuTKmmzpyYwMmfKK6oK1lormuabQe8HfWAo/LOUPT3FnyfewY0dpNqV201O97Mgv4J848jMwdVIA2y5bJEXC7pgp3UaKi0A+Jar7hpqnjpoHJNq2qDxRusvUnBB3wItXjsLSycpJOZF01YCIhHGFam5R3RwOn0FL3ozJmY6cxd6jKg/bdmQyWssVmRZ0FdmpYsZqV7GigoOqVEqQWw6swaokt8EDs5IqN6IqjMi2Rl88HeD9BIzRbsDLPBKmfaT0EigdwXOgjDUfwHuk5i/O9oHid27VS6t+DhZouVf+7/nsxiHhY6D6wUMfTVo/elnzB3iD7xU8qSxxqxqKZt0VzWVf5NcoSUTs7Rfgi7dOpu2muBYT0IHGSPt2fOWbqK/gQ9awgtjCeV+Xumd4H3UtK1B+gX1G91KhtLrXVoUX1VPal5aDSJLfNY4lij91rX97iWMtreeWD5HyJwJ3qpE8gCDRdj/Y9zi78yJ6WKsUwrfB3gwrBlPkU5QByEWdDxe2V64fFHutU+XEwnm656+Gh9J8Rm2FJ30KUq1MGD62xX/UafPU+UxkYPuPxll8IcZY/Za5QtHw/vKgrCfWcdCKdcLVYVvvq+qW3lRbTag/h38eN0bAtWdI7gAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"1\",\n        \"title\": \"1\",\n        \"src\": \"/refarch-eda/static/b0763f58039475431788ed0c63356660/275e0/vm-1.png\",\n        \"srcSet\": [\"/refarch-eda/static/b0763f58039475431788ed0c63356660/7fc1e/vm-1.png 288w\", \"/refarch-eda/static/b0763f58039475431788ed0c63356660/a5df1/vm-1.png 576w\", \"/refarch-eda/static/b0763f58039475431788ed0c63356660/275e0/vm-1.png 936w\"],\n        \"sizes\": \"(max-width: 936px) 100vw, 936px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Note the specific brokers and the authentication token used have been blacked-out.  We’ll let this producer run in the background producing one message per second.`}</p>\n    <p>{`Next we’ll set up the first Mirror Maker 2 node.  To install Mirror Maker, we’re just downloading the Kafka 2.4 distribution from Apache directly:  `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.apache.org/dyn/closer.cgi?path=/kafka/2.4.1/kafka_2.12-2.4.1.tgz\"\n      }}>{`https://www.apache.org/dyn/closer.cgi?path=/kafka/2.4.1/kafka_2.12-2.4.1.tgz`}</a></p>\n    <p>{`We’ll untar the archive into /opt and create a symlink.  Also, set the PATH to include the new Kafka package.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"468px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"29.166666666666668%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA30lEQVQY03WRyU7DQBBELRH3MotNjBABQg4kgLKAUJRT/v+/ip7Fjnzg8NQzUndV10zTXwLiwcN/KfxOEX8c4tE4Gb8JRfg29prP/l3gNgIZGCQEYoNuNOEsCBcbSIPngj9IRlYMea481fpoQoHADybgCe1di7Y1FqU2qUnfjNfSrOtSOcydZ6TNtAhyV++ubqgv1d3ge2sYCLopwtloXXA7i7qVXEfDJJZmsngo8Zvh2qH7jPB7yULjkPuQSZR7ypHGDaeIi1vUKXJ/tE/ZxvzQHMuGvKxEmotU/n0K4w9J1oiVwU28MAAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"2\",\n        \"title\": \"2\",\n        \"src\": \"/refarch-eda/static/d1ba12d2eb1a2f698f2ca31e20bd459b/d5a55/vm-2.png\",\n        \"srcSet\": [\"/refarch-eda/static/d1ba12d2eb1a2f698f2ca31e20bd459b/7fc1e/vm-2.png 288w\", \"/refarch-eda/static/d1ba12d2eb1a2f698f2ca31e20bd459b/d5a55/vm-2.png 468w\"],\n        \"sizes\": \"(max-width: 468px) 100vw, 468px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Now we will create a Mirror Maker 2 configuration file based on the sample provided in /opt/kafka/config/connect-mirror-maker.properties and add some options.  The full configuration is below:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-properties\"\n      }}>{`# Run with ./bin/connect-mirror-maker.sh connect-mirror-maker.properties \n\n# specify any number of cluster aliases\nclusters = kp-remote,kp-local\n\n# connection information for each cluster\n# This is a comma separated host:port pairs for each cluster\n# for e.g. \"A_host1:9092, A_host2:9092, A_host3:9092\"\n\n#\n# KP Remote Cluster\n# IES on IBM Cloud\n#\n\nkp-remote.bootstrap.servers = broker-3 ... eventstreams.cloud.ibm.com:9093\nkp-remote.ssl.enabled.protocols=TLSv1.2\nkp-remote.ssl.protocol=TLS\nkp-remote.security.protocol=SASL_SSL\nkp-remote.sasl.mechanism=PLAIN\nkp-remote.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule  required \\\\\n  username=\"token\" \\\\\n  password=\"hCJ ... KtS\";\n\n#\n# KP Local Cluster\n# Kafka 2.4 on OpenShift using Strimzi 0.17 Operator\n#\n\nkp-local.bootstrap.servers = kp-local-kafka-bootstrap-kp-local-kafka.apps. ... :443\nkp-local.ssl.enabled.protocols=TLSv1.2\nkp-local.ssl.protocol=TLS\nkp-local.security.protocol=SSL\nkp-local.ssl.truststore.location = truststore.p12\nkp-local.ssl.truststore.password = cz ... Hi\nkp-remote->kp-local.tasks.max = 3\nkp-remote->kp-local.group.id=mirrormaker2-cluster\n\n# enable and configure individual replication flows\nkp-remote->kp-local.enabled = true\n# regex which defines which topics gets replicated. For eg \"foo-.*\"\nkp-remote->kp-local.topics = .*\n# Setting replication factor of newly created remote topics\nreplication.factor=3\n############################# Internal Topic Settings  #############################\n# The replication factor for mm2 internal topics \"heartbeats\", \"B.checkpoints.internal\" and\n# \"mm2-offset-syncs.B.internal\"\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\ncheckpoints.topic.replication.factor=3\nheartbeats.topic.replication.factor=3\noffset-syncs.topic.replication.factor=3\n\n# The replication factor for connect internal topics \"mm2-configs.B.internal\", \"mm2-offsets.B.internal\" and\n# \"mm2-status.B.internal\"\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\noffset.storage.replication.factor=3\nstatus.storage.replication.factor=3\nconfig.storage.replication.factor=3\n\n# customize as needed\n# replication.policy.separator = _\nsync.topic.acls.enabled = false\n# emit.heartbeats.interval.seconds = 5\n`}</code></pre>\n    <p>{`Note that passwords and API keys have been obscured as well as hostnames.  This configuration file, along with the trust store for connecting to our local Kafka cluster, is all that is needed to replicate topics from the remote EventStreams cluster to the local Kafka cluster.  We start the Mirror Maker 2 cluster and wait for it to finish initializing:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`./bin/connect-mirror-maker.sh mm2.properties\n`}</code></pre>\n    <p>{`Once it finishes initializing, we should see messages like the following:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"936px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"7.638888888888888%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAc0lEQVQI1z2Iyw6CQBAEOTnDsLvDjlF8RTx48WAEkYT//7F2gOihUtVd2JQwk8eEuouoXxF5WP1rfQTEewVpGXwglGfn6lwIcmP/1z27sF6Rnwp7O6P3Jy22QaFdQGgF1UkgxxK8I1DegI2W5r3TOFv6f1+vdTEmzXHq/QAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"3\",\n        \"title\": \"3\",\n        \"src\": \"/refarch-eda/static/4b05a9c2b9ae63ec0dcb36a7ac41c465/275e0/vm-3.png\",\n        \"srcSet\": [\"/refarch-eda/static/4b05a9c2b9ae63ec0dcb36a7ac41c465/7fc1e/vm-3.png 288w\", \"/refarch-eda/static/4b05a9c2b9ae63ec0dcb36a7ac41c465/a5df1/vm-3.png 576w\", \"/refarch-eda/static/4b05a9c2b9ae63ec0dcb36a7ac41c465/275e0/vm-3.png 936w\"],\n        \"sizes\": \"(max-width: 936px) 100vw, 936px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`To show that replication is occurring, we will create a consumer on the Consumer VM.  Install Kafka as shown above and use the built-in console consumer to view the replicated messages from the local Kafka cluster.   To run the consumer, we use the same PKCS 12 certificate file to authenticate to the local cluster, and a local-consumer.properties file that is shown below:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-properties\"\n      }}>{`client.id=test-consumer-1\nssl.enabled.protocols=TLSv1.2\nsecurity.protocol=SSL\nssl.protocol=TLS\nssl.truststore.location=truststore.p12\nssl.truststore.password=cz...\n`}</code></pre>\n    <p>{`Run the consumer command:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"936px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"11.805555555555555%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAc0lEQVQI102MyQoCMRBEB7Q7S3cmLkfHwCgIgngQ///XniHMwcOjFqiaDh+nvpxyN6xl/JawNVEfztyceFXyGgknJRw7ZyVdAmnZaH9+iUz+zP0oUd6Z+ZtJtY9jwNzwYogKGhURQfadnQyvQUc/VDd6/gG9lC3/b7qJmQAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"4\",\n        \"title\": \"4\",\n        \"src\": \"/refarch-eda/static/606508d8c0688698459a4717174f36b6/275e0/vm-4.png\",\n        \"srcSet\": [\"/refarch-eda/static/606508d8c0688698459a4717174f36b6/7fc1e/vm-4.png 288w\", \"/refarch-eda/static/606508d8c0688698459a4717174f36b6/a5df1/vm-4.png 576w\", \"/refarch-eda/static/606508d8c0688698459a4717174f36b6/275e0/vm-4.png 936w\"],\n        \"sizes\": \"(max-width: 936px) 100vw, 936px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice that the topic name in this case is `}<inlineCode parentName=\"p\">{`kp-remote.kp-topic-1`}</inlineCode>{` instead of just `}<inlineCode parentName=\"p\">{`kp-topic-1`}</inlineCode>{`.  This is because we’re monitoring the replicated version of `}<inlineCode parentName=\"p\">{`kp-topic-1`}</inlineCode>{` from the remote EventStreams cluster.  Mirror Maker 2 automatically prepends the alias of the remote cluster as it is labeled in the Mirror Maker 2 configuration file.  In this case, the alias was `}<inlineCode parentName=\"p\">{`kp-remote`}</inlineCode>{`, so the replicated topic `}<inlineCode parentName=\"p\">{`kp-topic-1`}</inlineCode>{` is named `}<inlineCode parentName=\"p\">{`kp-remote.kp-topic-1`}</inlineCode>{`.`}</p>\n    <p>{`We can see the test messages from the producer that is writing to EventStreams are being replicated successfully to our local Kafka cluster.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`./bin/connect-mirror-maker.sh mm2.properties\n`}</code></pre>\n    <h2>{`Restarting Mirror Maker 2`}</h2>\n    <p>{`Now that replication is running successfully and we have both a producer and consumer running to view the traffic in real time, we can set up a second Mirror Maker 2 node.  The process is exactly the same as the first Mirror Maker 2 node, and the configuration file is also exactly the same.`}</p>\n    <p>{`Now that both instances of Mirror Maker 2 are running, we can verify that both instances are able to assume the load by stopping the first Mirror Maker 2 instance we created, verifying that replication is still occurring, restarting it, and finally stopping the second instance.  This will show that as long as at least one instance of Mirror Maker 2 is running we have successful replication.`}</p>\n    <p>{`From the Consumer:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"936px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"5.555555555555555%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAL0lEQVQI12PgVef6z6PE+Z/PkPu/gB33f25pzv9szOz/ubm5wZiFheU/Gxsb0RgAiXoWWJu/6B4AAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"5\",\n        \"title\": \"5\",\n        \"src\": \"/refarch-eda/static/d21943b218bae9f390386691d300c3e4/275e0/vm-5.png\",\n        \"srcSet\": [\"/refarch-eda/static/d21943b218bae9f390386691d300c3e4/7fc1e/vm-5.png 288w\", \"/refarch-eda/static/d21943b218bae9f390386691d300c3e4/a5df1/vm-5.png 576w\", \"/refarch-eda/static/d21943b218bae9f390386691d300c3e4/275e0/vm-5.png 936w\"],\n        \"sizes\": \"(max-width: 936px) 100vw, 936px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Now we stop the first Mirror Maker 2, and verify that replication is still occurring via the Consumer VM: `}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"936px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"12.847222222222221%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAfklEQVQI123O2QrCQAwF0HlJJts41db+hqDgAuL//9V1GC0o7UO4kOWQdDhXTM8B462izAHNClWFu4OZwcSf/BYR9VmJAmt7IgLJgvDo/VQvgf2rYLi3xtHWINMKNLMGOLylLmBEv0vlZKgPx+7q0EmQKUNUfj7cBhfsDzTHGzSCQ88E0AnIAAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"6\",\n        \"title\": \"6\",\n        \"src\": \"/refarch-eda/static/f53517d138a60f8607f5cda263080a33/275e0/vm-6.png\",\n        \"srcSet\": [\"/refarch-eda/static/f53517d138a60f8607f5cda263080a33/7fc1e/vm-6.png 288w\", \"/refarch-eda/static/f53517d138a60f8607f5cda263080a33/a5df1/vm-6.png 576w\", \"/refarch-eda/static/f53517d138a60f8607f5cda263080a33/275e0/vm-6.png 936w\"],\n        \"sizes\": \"(max-width: 936px) 100vw, 936px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Replication continued as expected.  Now we restart Mirror Maker 2 on Node 1, and stop it on Node 2, and check the consumer is still getting records.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}